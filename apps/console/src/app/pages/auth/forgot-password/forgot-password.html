@if (submitted()) {
<h2 class="text-xl font-semibold text-text">Check your email</h2>
<p class="mt-2 text-sm text-text-muted">
  If an account exists with that email, we've sent a password reset link. Please check your inbox.
</p>
<a
  routerLink="/auth/login"
  class="mt-6 inline-flex w-full items-center justify-center rounded-lg bg-primary px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-primary/90"
>
  Back to sign in
</a>
} @else {
<h2 class="text-xl font-semibold text-text">Forgot password</h2>
<p class="mt-1 text-sm text-text-muted">Enter your email and we'll send you a reset link.</p>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-6 space-y-4">
  <div>
    <label for="email" class="mb-1 block text-sm font-medium text-text">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      autocomplete="email"
      class="w-full rounded-lg border border-border bg-surface-alt px-3 py-2 text-sm text-text placeholder-text-muted outline-none transition-colors focus:border-primary focus:ring-1 focus:ring-primary"
      placeholder="you@example.com"
    />
    @if (form.controls.email.touched && form.controls.email.errors) {
    <p class="mt-1 text-xs text-red-400">
      @if (form.controls.email.errors['required']) { Email is required. } @else if
      (form.controls.email.errors['email']) { Enter a valid email address. }
    </p>
    }
  </div>

  <button
    type="submit"
    [disabled]="submitting()"
    class="flex w-full items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60"
  >
    @if (submitting()) {
    <div class="h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"></div>
    Sendingâ€¦ } @else { Send reset link }
  </button>
</form>

<p class="mt-4 text-center text-sm text-text-muted">
  <a routerLink="/auth/login" class="text-primary hover:underline">Back to sign in</a>
</p>
}
