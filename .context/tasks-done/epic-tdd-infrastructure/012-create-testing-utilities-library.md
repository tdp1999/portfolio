# Task: Create Shared Testing Utilities Library

## Status: completed

## Goal

Generate a shared testing library (`libs/shared/testing`) with mock factories, test helpers, and reusable utilities.

## Context

This library will be used across all apps and libraries for consistent testing patterns. It should include mock factories for domain entities (Project, Experience, BlogPost) and helpers for common test scenarios.

## Acceptance Criteria

- [x] Library generated with `pnpm nx g @nx/js:library testing --directory=libs/shared --unitTestRunner=jest`
- [x] Library structure includes:
  - `src/factories/` directory with at least 3 mock factories (Project, Experience, BlogPost)
  - `src/mocks/` directory with HTTP mock helpers
  - `src/helpers/` directory with common test helpers
  - Public API exported via `index.ts`
- [x] Mock factories follow builder pattern (accept `Partial<T>` overrides)
- [x] Library can be imported as `@portfolio/shared/testing`
- [x] Library has its own passing tests (16 tests)

## Technical Notes

- Use Nx generator to scaffold library structure
- Follow naming convention: `createMock[EntityName]` for factories
- Example factory:
  ```typescript
  export const createMockProject = (overrides?: Partial<Project>): Project => ({
    id: '1',
    title: 'Mock Project',
    description: 'Test project',
    technologies: ['TypeScript'],
    ...overrides,
  });
  ```
- Reference `.context/patterns.md` for Testing Patterns section

## Files to Touch

- `libs/shared/testing/` (new directory)
- `libs/shared/testing/src/index.ts` (public API)
- `libs/shared/testing/src/factories/*.ts` (factory files)
- `libs/shared/testing/src/mocks/*.ts` (mock files)
- `libs/shared/testing/src/helpers/*.ts` (helper files)
- `tsconfig.base.json` (path mapping - may be auto-generated by Nx)

## Dependencies

- Task 004 (types library) - needs types to create mock factories

## Complexity: M

## Progress Log

### 2026-02-01

- Added domain entity types (Project, Experience, BlogPost) to types library
- Generated shared library with Nx
- Created factories: createMockProject, createMockExperience, createMockBlogPost (with bulk creators)
- Created HTTP mock helpers with common error responses
- Created test utils: wait, createDeferred, generateTestId, createTestDate, expectToThrow
- All 16 tests passing
- Library importable as `@portfolio/shared/testing`
