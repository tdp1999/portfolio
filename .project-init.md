# Project Tech Stack

## Overview

Personal portfolio monorepo with Angular landing page, Angular dashboard, and NestJS API.

## Core Technologies

### Language & Runtime

- **Language:** TypeScript 5.x
- **Runtime:** Node.js 20+ LTS
- **Package Manager:** pnpm (with workspaces)

### Frontend (Both Apps)

- **Framework:** Angular 19+ (latest stable)
- **Styling:** Tailwind CSS 3.x
- **UI Components:** Custom components + headless libraries as needed
- **State Management:** Angular Signals + Services
- **Forms:** Angular Reactive Forms
- **HTTP:** Angular HttpClient
- **i18n:** @angular/localize or ngx-translate

### Backend (API Service)

- **Framework:** NestJS 10+
- **ORM:** Prisma
- **Database:** PostgreSQL
- **Validation:** class-validator + class-transformer
- **Auth:** JWT (for dashboard)

### Monorepo Tooling

- **Workspace:** pnpm workspaces
- **Build Orchestration:** Nx or Turborepo (recommend Nx for Angular)
- **Shared Packages:** TypeScript path aliases

## Development Tools

### Code Quality

- **Linting:** ESLint with Angular & TypeScript rules
- **Formatting:** Prettier
- **Git Hooks:** Husky + lint-staged
- **Commit Convention:** Conventional Commits

### Testing

- **Unit Tests:** Jest or Vitest (API), Karma/Jest (Angular)
- **E2E Tests:** Playwright or Cypress
- **API Testing:** Supertest

### Development

- **IDE:** VS Code with Angular Language Service
- **API Client:** Thunder Client or Postman
- **Database GUI:** pgAdmin, TablePlus, or Prisma Studio

## Infrastructure

### Deployment

- **Platform:** Railway or Render
- **CI/CD:** GitHub Actions
- **Environment:** Docker containers (optional)

### Services

- **Database:** PostgreSQL (Railway/Render managed)
- **Analytics:** Google Analytics 4
- **Email:** Resend or SendGrid (for contact form)

## Package Structure

```
portfolio/
├── package.json              # Root workspace config
├── pnpm-workspace.yaml       # pnpm workspace definition
├── nx.json                   # Nx configuration (if using Nx)
├── tsconfig.base.json        # Shared TypeScript config
│
├── apps/
│   ├── landing/              # Angular SSR/SSG public site
│   │   ├── src/
│   │   ├── angular.json
│   │   └── package.json
│   │
│   └── dashboard/            # Angular SPA admin panel
│       ├── src/
│       ├── angular.json
│       └── package.json
│
├── services/
│   └── api/                  # NestJS backend
│       ├── src/
│       │   ├── modules/
│       │   ├── common/
│       │   └── main.ts
│       ├── prisma/
│       │   └── schema.prisma
│       └── package.json
│
├── packages/
│   ├── types/                # Shared TypeScript interfaces
│   │   ├── src/
│   │   └── package.json
│   │
│   ├── ui/                   # Shared Angular components
│   │   ├── src/
│   │   └── package.json
│   │
│   └── utils/                # Shared utilities
│       ├── src/
│       └── package.json
│
└── data/
    └── mock/                 # Stage 1: Mock JSON data
        ├── profile.json
        ├── experiences.json
        ├── projects.json
        └── posts.json
```

## Key Dependencies

### Landing Page (apps/landing)

```json
{
  "@angular/core": "^19.0.0",
  "@angular/ssr": "^19.0.0",
  "@angular/localize": "^19.0.0",
  "tailwindcss": "^3.4.0"
}
```

### Dashboard (apps/dashboard)

```json
{
  "@angular/core": "^19.0.0",
  "@angular/forms": "^19.0.0",
  "tailwindcss": "^3.4.0"
}
```

### API (services/api)

```json
{
  "@nestjs/core": "^10.0.0",
  "@nestjs/platform-express": "^10.0.0",
  "@prisma/client": "^5.0.0",
  "prisma": "^5.0.0",
  "class-validator": "^0.14.0",
  "class-transformer": "^0.5.0",
  "@nestjs/jwt": "^10.0.0"
}
```

## Environment Variables

### API (.env)

```
DATABASE_URL=postgresql://user:pass@localhost:5432/portfolio
JWT_SECRET=your-secret-key
NODE_ENV=development
```

### Landing (.env)

```
API_URL=http://localhost:3000
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
```

### Dashboard (.env)

```
API_URL=http://localhost:3000
```

## Scripts

```json
{
  "dev": "nx run-many --target=serve --all",
  "dev:landing": "nx serve landing",
  "dev:dashboard": "nx serve dashboard",
  "dev:api": "nx serve api",
  "build": "nx run-many --target=build --all",
  "test": "nx run-many --target=test --all",
  "lint": "nx run-many --target=lint --all",
  "db:migrate": "pnpm --filter api prisma migrate dev",
  "db:generate": "pnpm --filter api prisma generate",
  "db:studio": "pnpm --filter api prisma studio"
}
```

## Stage 1 Implementation Notes

For Stage 1 (mock data):

1. Create mock JSON files in `/data/mock/`
2. API service reads from JSON files instead of database
3. Landing page calls API endpoints normally
4. Dashboard shows data but writes are no-ops (or write to JSON)
5. Easy to swap to real database in Stage 2 by changing repository implementations
