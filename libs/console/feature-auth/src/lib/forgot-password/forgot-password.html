@if (submitted()) {
<h2 class="text-xl font-semibold text-text">Check your email</h2>
<p class="mt-2 text-sm text-text-muted">
  If an account exists with that email, we've sent a password reset link. Please check your inbox.
</p>
<a mat-flat-button routerLink="/auth/login" class="mt-6 w-full"> Back to sign in </a>
} @else {
<h2 class="text-xl font-semibold text-text">Forgot password</h2>
<p class="mt-1 text-sm text-text-muted">Enter your email and we'll send you a reset link.</p>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-6 space-y-4">
  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Email</mat-label>
    <input
      matInput
      type="email"
      formControlName="email"
      autocomplete="email"
      placeholder="you@example.com"
    />
    @if (form.controls.email.hasError('required')) {
    <mat-error>Email is required.</mat-error>
    } @else if (form.controls.email.hasError('email')) {
    <mat-error>Enter a valid email address.</mat-error>
    }
  </mat-form-field>

  <button mat-flat-button type="submit" [disabled]="submitting()" class="w-full">
    @if (submitting()) {
    <mat-spinner diameter="18" class="inline-block mr-2"></mat-spinner>
    Sendingâ€¦ } @else { Send reset link }
  </button>
</form>

<p class="mt-4 text-center text-sm text-text-muted">
  <a routerLink="/auth/login" class="text-primary hover:underline">Back to sign in</a>
</p>
}
